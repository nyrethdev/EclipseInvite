<!doctype html>
<html>
<head><meta charset="utf-8"><title>Download</title>
<style>
body{
  background:#0a0a0f;color:#fff;
  font-family:sans-serif;
  text-align:center;padding-top:100px;
}
button{
  background:#00fff0;color:#000;
  padding:10px 20px;border:none;border-radius:8px;
  cursor:pointer;font-weight:bold;
  transition:0.3s;
}
button:hover{background:#ff00aa;color:white;}
</style></head>
<body>
<h2>Secure Download</h2>
<div id="msg">Verifying link...</div>
<script>
(async()=>{
  const t = new URLSearchParams(location.search).get("token");
  if(!t){msg.textContent="No token provided";return;}
  const r = await fetch("https://YOUR_VPS_OR_DOMAIN/api/validate?token="+t);
  const d = await r.json();
  if(!d.valid){msg.textContent="Invalid link: "+(d.reason||d.error);return;}
  msg.innerHTML=`<p>File: <b>${d.file}</b></p><p>Uses left: ${d.usesLeft}</p><button id='dl'>Download</button>`;
  dl.onclick=()=>location=`https://167.86.123.109/api/download?token=${t}`;
})();
</script>
</body>
</html>
